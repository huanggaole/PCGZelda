{
  "code": "import { RegionType } from \"../script/Region\";\r\nimport GrassEnemy1 from \"../character/GrassEnemy1\";\r\nexport default class EnemyFactory {\r\n    constructor(battlesprite) {\r\n        this.grassEnemies = [GrassEnemy1];\r\n        this.mainsp = battlesprite;\r\n        EnemyFactory.enemylist = [];\r\n    }\r\n    initEnemy(regiontype, enemyforce) {\r\n        let Enemies = [];\r\n        if (regiontype == RegionType.Grass) {\r\n            Enemies = this.grassEnemies;\r\n        }\r\n        while (enemyforce > 0) {\r\n            let Enemy = Enemies[Math.floor(Math.random() * Enemies.length)];\r\n            if (Enemy.BattlePoint > enemyforce) {\r\n                continue;\r\n            }\r\n            let fc = new Laya.FontClip(Enemy.skinname, \"一八匕厂 刀儿二几 力人入十 又川寸大\");\r\n            fc.scaleX = fc.scaleY = 3;\r\n            fc.value = \"一\";\r\n            fc.x = 96 + Math.random() * 96 * 8;\r\n            fc.y = 96 + Math.random() * 96 * 3;\r\n            let rigid = fc.addComponent(Laya.RigidBody);\r\n            rigid.type = \"dynamic\";\r\n            rigid.gravityScale = 0;\r\n            rigid.allowRotation = false;\r\n            let collider = fc.addComponent(Laya.BoxCollider);\r\n            collider.width = collider.height = 16;\r\n            let enemy = fc.addComponent(Enemy);\r\n            enemy.HP = enemy.maxHP;\r\n            EnemyFactory.enemylist.push(fc);\r\n            this.mainsp.addChild(fc);\r\n            enemyforce -= Enemy.BattlePoint;\r\n        }\r\n    }\r\n    clearEnemey() {\r\n        for (let i = 0; i < EnemyFactory.enemylist.length; i++) {\r\n            this.mainsp.removeChild(EnemyFactory.enemylist[i]);\r\n            EnemyFactory.enemylist[i].destroy();\r\n        }\r\n        EnemyFactory.enemylist = [];\r\n    }\r\n}\r\n",
  "references": [
    "/Users/huanggaole/PCGZelda/src/script/Region.ts",
    "/Users/huanggaole/PCGZelda/src/character/GrassEnemy1.ts"
  ]
}
